@{
    ViewBag.Title = "Koti";
}
@* Kaikki scriptit tähän sectioniin *@

@section scripts {
    @*Onnistunut palautteenanto-modaali*@
    @if (TempData["Success"] != null)
    {
        <script type="text/javascript">
            window.onload = function () {
                $("#PalauteOnnistui").modal("show"); {
                    setTimeout(function () { $("#PalauteOnnistui").modal("hide"); }, 2000)
                };
            };
        </script>
    }

    @*Epäonnistunut palautteenanto-modaali, mitään palautetta ei olla kirjoitettu*@
    @if (TempData["Error"] != null)
    {
        <script type="text/javascript">


            window.onload = function () {
                $("#PalauteEiOnnistunut").modal("show"); {
                    setTimeout(function () { $("#PalauteEiOnnistunut").modal("hide"); }, 2000)
                };
            };
        </script>
    }
    @*Onnistunut varaus -modaali*@
    @if (TempData["Successi"] != null)
    {
        <script type="text/javascript">
            window.onload = function () {
                $("#OnnistunutModaali").modal("show"); {
                    setTimeout(function () { $("#OnnistunutModaali").modal("hide"); }, 3000)
                };
            };
        </script>
    }

    @*Varaus epäonnistui -modaali*@
    @if (TempData["Errori"] != null)
    {
        <script type="text/javascript">
            window.onload = function () {
                $("#EiOnnistunutModaali").modal("show"); {
                    setTimeout(function () { $("#EiOnnistunutModaali").modal("hide"); }, 3000)
                };
            };
        </script>
    }


    <script type="text/javascript">

         //Tämä tässä, jos tulee useampi modaali eikä toimikaan, poistetaan myöhemmin, jos ei tarvita
      //      function launch_modal(id) {
      //          // Hide all modals using class if required.
      //          $('.modal').modal('hide');
      //      $('#'+id).modal('show');
      //}


        //tama avaa varauksen poiston modaalin clickauksella
        $(function () {
            $("varausmodal").click(function () {
                $("#VarausRuutu").modal("show");
            });
        });

    </script>
}


<!-------------------------Hero section---------------------------------->
<section class="container-fluid vh-100 bg-hero pb-md-5 pt-5">
    <div class="container py-md-5">
        <div class="col-md-6 pt-md-5">
            <div class="d-flex flex-column justify-content-evenly">
                <h1 class="display-3 fw-bold pt-5">Careerian Tivi-ohjaus</h1>
                <p class="lead fs-md-5 my-md-3">Varaa ohjausaika tai anna palautetta Careerian tieto- ja viestintätekniikan opettajille.</p>
                <div class="d-md-inline-flex">
                    <a href="#ohjausaika" class="btn btn-primary m2-3">Varaa ohjausaika</a>
                    <div class="my-3"></div><!--Tämä tyhjä div tässä sen takia, että mobiilissa tulisi väli nappuloiden välille-->
                    <a href="#palaute" class="btn btn-primary ms-md-3 h-100">Anna palautetta</a>
                    <div class="my-3"></div><!--Tämä tyhjä div tässä sen takia, että mobiilissa tulisi väli nappuloiden välille-->
                    @* Poista varaus nappula *@
                    <a class="btn btn-primary ms-md-3 h-100" id="varausmodal" data-bs-toggle="modal" data-bs-target="#VarausRuutu">Poista varauksesi</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!----------------------Ohjausajan varaus-osio--------------------------->
<section class="container mt-5 mb-5 pb-5" id="ohjausaika">
    <h2 class="display-6 fw-bolder">Ohjausajan varaus</h2>
    <p class="lead">Kenelle tivi-opettajalle haluat varata ajan?</p>

    <div id="accordion">
        <!--Tähän foreach-->
        <!--Opettajien kuvakortti-->
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
            <div class="col">
                <div class="card bg-black text-white d-flex justify-content-center text-center pt-3">
                    <div class="round-img"></div>
                    <div class="card-body">
                        <h5 class="card-title fw-light placeholder-glow">Opettajan nimi</h5>
                        <!--Alla oleva button on vielä kortin sisällä, sillä sitä pitäisi muokata css:llä
                            (asettaa miinusmarginaaleja jotka pitäisi sitten joka näyttökoolle säätää erikseen) mikäli sen
                            haluaisi sijoittuvan kortin alareunan päälle kuten käyttöliittymäsuunnitelmassa. Mahd. aikaa vievä juttu
                            joka ei ole ainakaan vielä tässä vaiheessa oleellista.-->
                        <a class="btn btn-primary placeholder-glow" data-bs-toggle="collapse" data-bs-target="#collapseExample1" aria-expanded="false" aria-controls="collapseExample">Varaa aika</a>
                    </div>
                </div>
            </div>
        </div>
        <!--collapse/ajanvarausalue-->
        <div class="collapse" id="collapseExample1">
            <div class="card card-body border-0">
                <!--Progress bar-->
                <div class="position-relative align-self-center m-5 w-50">
                    <div class="progress" style="height: 1px; background-color: var(--primary-color);">
                        <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <button type="button" class="placeholder-glow top-0 start-0 p-0 m-0 translate-middle btn btn-sm btn-primary rounded-pill d-flex justify-content-center align-items-center" style="width: 3.4rem; height: 3.4rem;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="2rem" height="auto" fill="black" class="bi bi-check2 m-0 p-0" viewBox="0 0 16 16">
                            <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z" />
                        </svg>
                    </button>
                    <button type="button" class="placeholder-glow position-absolute top-0 start-50 translate-middle btn btn-sm btn-outline-primary bg-white rounded-pill d-flex justify-content-center align-items-center" style="width: 3.4rem; height: 3.4rem;">
                    </button>
                    <button type="button" class="placeholder-glow position-absolute top-0 start-100 translate-middle btn btn-sm btn-outline-primary bg-white rounded-pill d-flex justify-content-center align-items-center" style="width: 3.4rem; height: 3.4rem;">
                    </button>
                </div>

                <div>
                    <h2 class="placeholder-glow">Valitse varattava aika</h2>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-1 d-flex justify-content-center align-items-center">
                                <h4 class="placeholder-glow text-center">26.5</h4>
                            </div>
                            <div class="col-md-11">
                                <div>
                                    <button class="placeholder-glow btn btn-primary" type="button">
                                        11.00-11.30
                                    </button>
                                </div>
                            </div>
                            <div>
                                <a href="/Varaus/TeeVaraus" class="placeholder-glow btn d-grid text-decoration-none btn-outline-primary mt-3" type="submit">Valitse ja jatka</a>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>


    </div><!--id accordion end tag-->
</section>

<!-------------------------------Palautelomakeosio------------------------->

<div id="palaute">
    @Html.Action("_Create", "Palaute")
</div>


<div class="container-fluid bg-index-btm"></div>

@* Varaajan varauksen poisto toiminto, kutsuu modaali-ikkunan. Button ja modaali kaipaa muotoilua*@
@Html.Action("VarausPoisto", "Varaus")


@*Palautteenantoon liittyvien modaali-ikkunoiden renderöinti*@

@{ Html.RenderPartial("~/Views/Palaute/_SuccessModal.cshtml"); }


@{ Html.RenderPartial("~/Views/Palaute/_ErrorModal.cshtml"); }

@{ Html.RenderPartial("~/Views/Varaus/_EiOnnistunutModaali.cshtml"); }

@{ Html.RenderPartial("~/Views/Varaus/_OnnistuiModaali.cshtml"); }